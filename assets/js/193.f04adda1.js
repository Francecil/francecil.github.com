(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{746:function(t,a,r){"use strict";r.r(a);var e=r(4),s=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"疑问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#疑问"}},[t._v("#")]),t._v(" 疑问")]),t._v(" "),a("p",[t._v("检测更新的时机是？")]),t._v(" "),a("h2",{attrs:{id:"安装失败终止流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装失败终止流程"}},[t._v("#")]),t._v(" 安装失败终止流程")]),t._v(" "),a("h2",{attrs:{id:"开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开发"}},[t._v("#")]),t._v(" 开发")]),t._v(" "),a("p",[t._v("webpack 通过 "),a("a",{attrs:{href:"https://developers.google.com/web/tools/workbox/modules/workbox-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("workbox-webpack-plugin"),a("OutboundLink")],1),t._v(" 生成 sw")]),t._v(" "),a("p",[t._v("可以配置")]),t._v(" "),a("p",[t._v("update on reload")]),t._v(" "),a("h2",{attrs:{id:"更新时机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#更新时机"}},[t._v("#")]),t._v(" 更新时机")]),t._v(" "),a("p",[t._v("url hash 变更 sw.js?v=111")]),t._v(" "),a("p",[t._v("sw 内容变更")]),t._v(" "),a("p",[t._v("skipWaiting 阶段")]),t._v(" "),a("ul",[a("li",[t._v("手动点击 skipWaiting")]),t._v(" "),a("li",[t._v("关闭所有终端")]),t._v(" "),a("li",[t._v("代码里设置 self.skipWaiting()")])]),t._v(" "),a("p",[t._v("https://lavas-project.github.io/pwa-book/chapter04/3-service-worker-dive.html")]),t._v(" "),a("p",[t._v("另外默认 24 小时触发更新")])])}),[],!1,null,null,null);a.default=s.exports}}]);